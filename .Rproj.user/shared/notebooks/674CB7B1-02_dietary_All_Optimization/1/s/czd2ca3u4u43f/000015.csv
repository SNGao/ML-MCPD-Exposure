"0","# Train the model with the best parameters"
"0","# best_params_rf"
"0","set.seed(2)"
"0","final_rf_model <- randomForest("
"0","  x = X_train,"
"0","  y = y_train$MCPD_GLY,"
"0","  mtry = best_params_rf$mtry, #8"
"0","  ntree = best_params_rf$ntree, #700"
"0","  maxnodes = best_params_rf$maxnodes, #80"
"0","  nodesize = best_params_rf$nodesize, #10"
"0","  importance = TRUE"
"0",")"
"0",""
"0","# Make predictions on the training set"
"0","train_pred_rf <- predict(final_rf_model, X_train)"
"0","train_perf_rf <- defaultSummary(data.frame(obs = y_train$MCPD_GLY, pred = train_pred_rf))"
"0",""
"0","# Make predictions on the test set"
"0","test_pred_rf <- predict(final_rf_model, X_test)"
"0","test_perf_rf <- defaultSummary(data.frame(obs = y_test$MCPD_GLY, pred = test_pred_rf))"
"0",""
"0","print(test_perf_rf)"
"1","     RMSE "
"1"," Rsquared "
"1","      MAE "
"1","
"
"1","1.0752878 "
"1","0.4507332 "
"1","0.8426248 "
"1","
"
"0","pdf('01_Output_Results/RandomForest.All.VIP.pdf')"
"0","importance(final_rf_model)"
"1","              "
"1","     %IncMSE"
"1"," IncNodePurity"
"1","
totalenergy   "
"1"," 102.5180217"
"1","    694.110152"
"1","
CREATININE    "
"1","  -0.5130616"
"1","     76.844089"
"1","
HEIGHT        "
"1","   7.2057942"
"1","     66.282408"
"1","
age           "
"1","   3.6490625"
"1","     65.044740"
"1","
BEANOILintake "
"1","  57.4977060"
"1","    229.255993"
"1","
PEANUTOIintake"
"1","  19.6351424"
"1","    104.861591"
"1","
LARDOILintake "
"1","  35.4290856"
"1","    129.729288"
"1","
MET           "
"1","   5.7891284"
"1","     83.420946"
"1","
DHPMA_a       "
"1","   7.5787903"
"1","    106.085277"
"1","
MARRIAGE      "
"1","   2.2197390"
"1","     12.687778"
"1","
SMOKE         "
"1","   3.4515315"
"1","     12.052137"
"1","
SEX           "
"1","   7.9388319"
"1","     10.179209"
"1","
FAMINCOM5w    "
"1","   3.4847089"
"1","     13.900522"
"1","
CVD           "
"1","   1.5582981"
"1","      3.520920"
"1","
db            "
"1","  -2.0521543"
"1","      5.342028"
"1","
HBP           "
"1","   4.2504361"
"1","     10.857465"
"1","
alcohol       "
"1","   1.6395268"
"1","     11.014994"
"1","
education     "
"1","  12.2556188"
"1","     40.126659"
"1","
"
"0","varImpPlot(final_rf_model)"
