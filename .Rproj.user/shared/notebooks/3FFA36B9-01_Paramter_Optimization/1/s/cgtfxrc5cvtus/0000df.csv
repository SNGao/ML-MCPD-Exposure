"0","## Single Importance"
"0","VIP_cat = data.frame(cat_model$feature_importances)"
"0","colnames(VIP_cat) = 'FeatureImportance'"
"0","VIP_cat$Variable = row.names(VIP_cat)"
"0","VIP_cat = VIP_cat[order(VIP_cat$FeatureImportance,"
"0","              decreasing = TRUE),]"
"0","write.csv(VIP_cat, '01_Output_Results/CatBoost_VIP_Single.csv')"
"0",""
"0","## Interaction Importance"
"0","VIP.tmp = data.frame(cat_model$feature_importances)"
"0","all_pool <- catboost.load_pool(data = data_MCPD[,-1], label = data_MCPD$dietaryMCPD)"
"0",""
"0","VIP_I_cat = data.frame(catboost.get_feature_importance(cat_model, "
"0","                                            test_pool, # test_pool, "
"0","                                            type = 'Interaction'))"
"0","colnames(VIP_I_cat) = c('Variable-1', 'Variable-2', 'Score')"
"0","mapping_vector <- setNames(row.names(VIP.tmp), 1:length(row.names(VIP.tmp)))"
"0",""
"0","VIP_I_cat$`Variable-1` <- mapping_vector[as.character(VIP_I_cat$`Variable-1`)]"
"0","VIP_I_cat$`Variable-2` <- mapping_vector[as.character(VIP_I_cat$`Variable-2`)]"
"0",""
"0",""
"0","### Calculate total score (%) of interaction effects"
"0","index_target = c(which(VIP_I_cat$`Variable-1` == 'DHPMA_a'),"
"0","                 which(VIP_I_cat$`Variable-2` == 'DHPMA_a'))"
"0","sum(VIP_I_cat$Score[index_target])"
"1","[1]"
"1"," 29.0093"
"1","
"
"0","VIP_I_cat"
